## 2.0.0 (Unreleased)

NOTES:

* **Major Version:** Version 2.0 of the Azure Provider is a major version - some deprecated fields/resources have been removed - please [refer to the 2.0 upgrade guide for more information](https://www.terraform.io/docs/providers/azurerm/guides/2.0-upgrade-guide.html).
* **Provider Block:** The Azure Provider now requires that a `features` block is specified within the Provider block, which can be used to alter the behaviour of certain resources - [more information on the `features` block can be found in the documentation](https://www.terraform.io/docs/providers/azurerm/index.html#features).
* **Terraform 0.10/0.11:** Version 2.0 of the Azure Provider no longer supports Terraform 0.10 or 0.11 - you must upgrade to Terraform 0.12 to use version 2.0 of the Azure Provider.

FEATURES:

* **Custom Timeouts:** - all resources within the Azure Provider now allow configuring custom timeouts - please [see Terraform's Timeout documentation](https://www.terraform.io/docs/configuration/resources.html#operation-timeouts) and the documentation in each data source resource for more information.
* **Requires Import:** The Azure Provider now checks for the presence of an existing resource prior to creating it - which means that if you try and create a resource which already exists (without importing it) you'll be prompted to import this into the state.
* **New Data Source:** `azurerm_eventhub_authorization_rule` [GH-5805]
* **New Resource:** `azurerm_express_route_gateway` [GH-5523]
* **New Resource:** `azurerm_linux_virtual_machine` [GH-5705]
* **New Resource:** `azurerm_linux_virtual_machine_scale_set` [GH-5705]
* **New Resource:** `azurerm_network_interface_security_group_association` [GH-5784]
* **New Resource:** `azurerm_virtual_machine_scale_set_extension` [GH-5705]
* **New Resource:** `azurerm_windows_virtual_machine` [GH-5705]
* **New Resource:** `azurerm_windows_virtual_machine_scale_set` [GH-5705]

BREAKING CHANGES:

* The Environment Variable `DISABLE_CORRELATION_REQUEST_ID` has been renamed to `ARM_DISABLE_CORRELATION_REQUEST_ID` to match the other Environment Variables
* The field `tags` is no longer `computed`
* Data Source: `azurerm_api_management` - removing the deprecated `sku` block [GH-5725]
* Data Source: `azurerm_app_service` - removing the deprecated field `subnet_mask` from the `site_config` block [GH-5823]
* Data Source: `azurerm_app_service_plan` - the deprecated `properties` block has been removed since these properties have been moved to the top level [GH-5717]
* Data Source: `azurerm_azuread_application` - This data source has been removed since it was deprecated [GH-5748]
* Data Source: `azurerm_azuread_service_principal` - This data source has been removed since it was deprecated [GH-5748]
* Data Source: `azurerm_dns_zone` - removing the deprecated `zone_type` field [GH-5794]
* Data Source: `azurerm_dns_zone` - removing the deprecated `registration_virtual_network_ids` field [GH-5794]
* Data Source: `azurerm_dns_zone` - removing the deprecated `resolution_virtual_network_ids` field [GH-5794]
* Data Source: `azurerm_key_vault` - removing the `sku` block since this has been deprecated in favour of the `sku_name` field [GH-5774]
* Data Source: `azurerm_key_vault_key` - removing the deprecated `vault_uri` field [GH-5774]
* Data Source: `azurerm_key_vault_secret` - removing the deprecated `vault_uri` field [GH-5774]
* Data Source: `azurerm_kubernetes_cluster` - removing the field `dns_prefix` from the `agent_pool_profile` block [GH-5823]
* Data Source: `azurerm_network_interface` - removing the deprecated field `internal_fqdn` [GH-5823]
* Data Source: `azurerm_private_link_service` - removing the deprecated field `network_interface_ids` [GH-5823]
* Data Source: `azurerm_role_definition` - removing the alias `VirtualMachineContributor` which has been deprecated in favour of the full name `Virtual Machine Contributor` [GH-5733]
* Data Source: `azurerm_scheduler_job_collection` - This data source has been removed since it was deprecated [GH-5712]
* Data Source: `azurerm_subnet` - removing the deprecated `ip_configuration` field [GH-5801]
* Data Source: `azurerm_virtual_network` - removing the deprecated `address_spaces` field [GH-5823]
* `azurerm_api_management` - removing the deprecated `sku` block [GH-5725]
* `azurerm_api_management` - removing the deprecated fields in the `security` block [GH-5725]
* `azurerm_application_gateway` - the field `fqdns` within the `backend_address_pool` block is no longer computed [GH-5823]
* `azurerm_application_gateway` - the field `ip_addresses` within the `backend_address_pool` block is no longer computed [GH-5823]
* `azurerm_application_gateway` - the deprecated field `fqdn_list` within the `backend_address_pool` block has been removed [GH-5823]
* `azurerm_application_gateway` - the deprecated field `ip_address_list` within the `backend_address_pool` block has been removed [GH-5823]
* `azurerm_application_gateway` - the deprecated field `disabled_ssl_protocols` has been removed [GH-5823]
* `azurerm_application_gateway` - the field `disabled_protocols` within the `ssl_policy` block is no longer computed [GH-5823]
* `azurerm_app_service` - removing the field `subnet_mask` from the `site_config` block [GH-5823]
* `azurerm_app_service` - the field `ip_address` within the `site_config` block now refers to a CIDR block, rather than an IP Address to match the Azure API [GH-5823]
* `azurerm_app_service` - removing the field `virtual_network_name` from the `site_config` block [GH-5823]
* `azurerm_app_service_plan` - the deprecated `properties` block has been removed since these properties have been moved to the top level [GH-5717]
* `azurerm_app_service_slot` - removing the field `subnet_mask` from the `site_config` block [GH-5823]
* `azurerm_app_service_slot` - the field `ip_address` within the `site_config` block now refers to a CIDR block, rather than an IP Address to match the Azure API [GH-5823]
* `azurerm_app_service_slot` - removing the field `virtual_network_name` from the `site_config` block [GH-5823]
* `azurerm_application_gateway` - updating the default value for the `body` field within the `match` block from `*` to an empty string [GH-5752]
* `azurerm_automation_account` - removing the `sku` block which has been deprecated in favour of the `sku_name` field [GH-5781]
* `azurerm_automation_credential` - removing the deprecated `account_name` field [GH-5781]
* `azurerm_automation_runbook` - removing the deprecated `account_name` field [GH-5781]
* `azurerm_automation_schedule` - removing the deprecated `account_name` field [GH-5781]
* `azurerm_availability_set` - updating the default value for `managed` from `false` to `true` [GH-5724]
* `azurerm_azuread_application` - This resource has been removed since it was deprecated [GH-5748]
* `azurerm_azuread_service_principal_password` - This resource has been removed since it was deprecated [GH-5748]
* `azurerm_azuread_service_principal` - This resource has been removed since it was deprecated [GH-5748]
* `azurerm_client_config` - removing the deprecated field `service_principal_application_id` [GH-5823]
* `azurerm_client_config` - removing the deprecated field `service_principal_object_id` [GH-5823]
* `azurerm_cognitive_account` - removing the deprecated `sku_name` block [GH-5797]
* `azurerm_container_group` - removing the `port` field from the `container` block [GH-5823]
* `azurerm_container_group` - removing the `protocol` field from the `container` block [GH-5823]
* `azurerm_container_group` - the `ports` field is no longer Computed [GH-5823]
* `azurerm_container_group` - the `protocol` field within the `ports` block is no longer Computed and now defaults to `TCP` [GH-5823]
* `azurerm_container_group` - removing the deprecated field `command` [GH-5823]
* `azurerm_container_registry` - removing the deprecated `storage_account` block [GH-5823]
* `azurerm_container_service` - This resource has been removed since it was deprecated [GH-5709]
* `azurerm_devspace_controller` - removing the deprecated `sku` block [GH-5795]
* `azurerm_dns_cname_record` - removing the deprecated `records` field [GH-5794]
* `azurerm_dns_ns_record` - removing the deprecated `records` field [GH-5794]
* `azurerm_dns_zone` - removing the deprecated `zone_type` field [GH-5794]
* `azurerm_dns_zone` - removing the deprecated `registration_virtual_network_ids` field [GH-5794]
* `azurerm_dns_zone` - removing the deprecated `resolution_virtual_network_ids` field [GH-5794]
* `azurerm_eventhub` - removing the deprecated `location` field [GH-5793]
* `azurerm_eventhub_authorization_rule` - removing the deprecated `location` field [GH-5793]
* `azurerm_eventhub_consumer_group` - removing the deprecated `location` field [GH-5793]
* `azurerm_eventhub_namespace` - removing the deprecated `kafka_enabled` field since this is now managed by Azure [GH-5793]
* `azurerm_eventhub_namespace_authorization_rule` - removing the deprecated `location` field [GH-5793]
* `azurerm_firewall` - removing the deprecated field `internal_public_ip_address_id` from the `ip_configuration` block [GH-5823]
* `azurerm_firewall` - the field `public_ip_address_id` within the `ip_configuration` block is now required [GH-5823]
* `azurerm_frontdoor` - The `forwarding_protocol` property now defaults to `HttpsOnly` [GH-5792]
* `azurerm_function_app` - removing the field `virtual_network_name` from the `site_config` block [GH-5823]
* `azurerm_function_app` - updating the field `ip_address` within the `ip_restriction` block to accept a CIDR rather than an IP Address to match the updated API behaviour [GH-5823]
* `azurerm_iot_dps` - This resource has been removed since it was deprecated [GH-5753]
* `azurerm_iot_dps_certificate` - This resource has been removed since it was deprecated [GH-5753]
* `azurerm_iothub`- The deprecated `sku.tier` property will be removed. [GH-5790]
* `azurerm_iothub_dps` - The deprecated `sku.tier` property will be removed. [GH-5790]
* `azurerm_key_vault` - removing the `sku` block since this has been deprecated in favour of the `sku_name` field [GH-5774]
* `azurerm_key_vault_access_policy` - removing the deprecated field `vault_name` which has been superseded by the `key_vault_id` field [GH-5774]
* `azurerm_key_vault_access_policy` - removing the deprecated field `resource_group_name ` which has been superseded by the `key_vault_id` field [GH-5774]
* `azurerm_key_vault_certificate` - removing the deprecated `vault_uri` field [GH-5774]
* `azurerm_key_vault_key` - removing the deprecated `vault_uri` field [GH-5774]
* `azurerm_key_vault_secret` - removing the deprecated `vault_uri` field [GH-5774]
* `azurerm_kubernetes_cluster` - updating the default value for `load_balancer_sku` to `Standard` from `Basic` [GH-5747]
* `azurerm_kubernetes_cluster` - the block `default_node_pool` is now required [GH-5823]
* `azurerm_kubernetes_cluster` - removing the deprecated `agent_pool_profile` block [GH-5823]
* `azurerm_kubernetes_cluster` - the field `enable_pod_security_policy` is no longer computed [GH-5823]
* `azurerm_lb_backend_address_pool` - removing the deprecated `location` field [GH-5823]
* `azurerm_lb_nat_pool` - removing the deprecated `location` field [GH-5823]
* `azurerm_lb_nat_rule` - removing the deprecated `location` field [GH-5823]
* `azurerm_lb_probe` - removing the deprecated `location` field [GH-5823]
* `azurerm_lb_rule` - removing the deprecated `location` field [GH-5823]
* `azurerm_log_analytics_workspace_linked_service` - This resource has been removed since it was deprecated [GH-5754]
* `azurerm_log_analytics_linked_service` - The `resource_id` field has been moved from the `linked_service_properties` block to the top-level and the deprecated field `linked_service_properties` will be removed. This has been replaced by the `resource_id` resource [GH-5775]
* `azurerm_maps_account` - the `sku_name` field is now case-sensitive [GH-5776]
* `azurerm_mariadb_server` - removing the `sku` block since it's been deprecated in favour of the `sku_name` field [GH-5777]
* `azurerm_mssql_elasticpool` - removing the deprecated `elastic_pool_properties` block [GH-5744]
* `azurerm_mysql_server` - removing the deprecated `sku` block [GH-5743]
* `azurerm_network_interface` - removing the deprecated `application_gateway_backend_address_pools_ids` field from the `ip_configurations` block [GH-5784]
* `azurerm_network_interface` - removing the deprecated `application_security_group_ids ` field from the `ip_configurations` block [GH-5784]
* `azurerm_network_interface` - removing the deprecated `load_balancer_backend_address_pools_ids ` field from the `ip_configurations` block [GH-5784]
* `azurerm_network_interface` - removing the deprecated `load_balancer_inbound_nat_rules_ids ` field from the `ip_configurations` block [GH-5784]
* `azurerm_network_interface` - removing the deprecated `internal_fqdn` field [GH-5784]
* `azurerm_network_interface` - removing the `network_security_group_id` field in favour of a new split-out resource `azurerm_network_interface_security_group_association` [GH-5784]
* `azurerm_network_interface_application_security_group_association` - removing the `ip_configuration_name` field associations between Network Interfaces and Application Security Groups now need to be made to all IP Configurations [GH-5815]
* `azurerm_network_interface` - the `virtual_machine_id` field is now computed-only since it's not setable [GH-5784]
* `azurerm_notification_hub_namesapce` - removing the `sku` block in favour of the `sku_name` argument [GH-5722]
* `azurerm_postgresql_server` - removing the `sku` block which has been deprecated in favour of the `sku_name` field [GH-5721]
* `azurerm_private_link_service` - removing the deprecated field `network_interface_ids` [GH-5823]
* `azurerm_public_ip` - making the `allocation_method` field required [GH-5823]
* `azurerm_public_ip` - removing the deprecated field `public_ip_address_allocation` [GH-5823]
* `azurerm_relay_namespace` - removing the `sku` block in favour of the `sku_name` field [GH-5719]
* `azurerm_scheduler_job` - This resource has been removed since it was deprecated [GH-5712]
* `azurerm_scheduler_job_collection` - This resource has been removed since it was deprecated [GH-5712]
* `azurerm_storage_account` - removing the deprecated `account_type` field [GH-5710]
* `azurerm_storage_account` - removing the deprecated `enable_advanced_threat_protection` field [GH-5710]
* `azurerm_storage_account` - updating the default value for `enable_https_traffic_only` from `false` to `true` [GH-5808]
* `azurerm_storage_blob` - making the `type` field case-sensitive [GH-5710]
* `azurerm_storage_blob` - removing the deprecated `attempts` field [GH-5710]
* `azurerm_storage_blob` - removing the deprecated `resource_group_name` field [GH-5710]
* `azurerm_storage_container` - removing the deprecated `resource_group_name` field [GH-5710]
* `azurerm_storage_container` - removing the deprecated `properties` block [GH-5710]
* `azurerm_storage_queue` - removing the deprecated `resource_group_name` field [GH-5710]
* `azurerm_storage_share` - removing the deprecated `resource_group_name` field [GH-5710]
* `azurerm_storage_table` - removing the deprecated `resource_group_name` field [GH-5710]
* `azurerm_subnet` - removing the deprecated `ip_configuration` field [GH-5801]
* `azurerm_subnet` - removing the deprecated `network_security_group_id` field [GH-5801]
* `azurerm_subnet` - removing the deprecated `route_table_id` field [GH-5801]
* `azurerm_subnet` - making the `actions` list within the `service_delegation` block within the `service_endpoints` block non-computed [GH-5801]
* `azurerm_virtual_network_peering` - `allow_virtual_network_access` now defaults to true, matching the API and Portal behaviours. [GH-5832]
* `azurerm_virtual_wan` - removing the deprecated field `security_provider_name` [GH-5823]

IMPROVEMENTS:

* web: updating to API version `2019-08-01` [GH-5823]
* Data Source: `azurerm_kubernetes_service_version` - support for filtering of preview releases [GH-5662]
* `azurerm_dedicated_host` - support for setting `sku_name` to `DSv3-Type2` and `ESv3-Type2` [GH-5768]
* `azurerm_key_vault` - support for configuring `purge_protection_enabled` [GH-5344]
* `azurerm_key_vault` - support for configuring `soft_delete_enabled` [GH-5344]
* `azurerm_sql_database` - support for configuring `zone_redundant` [GH-5772]
* `azurerm_storage_account` - support for configuring the `static_website` block [GH-5649]
* `azurerm_storage_account` - support for configuring `cors_rules` within the `blob_properties` block [GH-5425]
* `azurerm_subnet` - support for delta updates [GH-5801]
* `azurerm_windows_virtual_machine` - fixing a bug when provisioning from a Shared Gallery image [GH-5661]

BUG FIXES:

* `azurerm_application_insights` - the `application_type` field is now case sensitive as documented [GH-5817]
* `azurerm_api_management_api` - allows blank `path` field [GH-5833]
* `azurerm_eventhub_namespace` - the field `ip_rule` within the `network_rulesets` block now supports a maximum of 128 items [GH-5831]
* `azurerm_eventhub_namespace` - the field `virtual_network_rule` within the `network_rulesets` block now supports a maximum of 128 items [GH-5831]
* `azurerm_linux_virtual_machine` - using the delete custom timeout during deletion [GH-5764]
* `azurerm_network_interface` - the `dns_servers` field now respects ordering [GH-5784]
* `azurerm_public_ip_prefix` - fixing the validation for the `prefix_length` to match the Azure API [GH-5693]
* `azurerm_recovery_services_vault` - using the requested cloud rather than the default [GH-5825]
* `azurerm_role_assignment` - validating that the `name` is a UUID [GH-5624]
* `azurerm_signalr_service` - ensuring the SignalR segment is parsed in the correct case [GH-5737]
* `azurerm_subnet` - supporting updating of the `enforce_private_link_endpoint_network_policies` field [GH-5801]
* `azurerm_subnet` - supporting updating of the `enforce_private_link_service_network_policies` field [GH-5801]
* `azurerm_windows_virtual_machine` - using the delete custom timeout during deletion [GH-5764]

---

For information on v1.44.0 and prior releases, please see [the v1.44.0 changelog](https://github.com/terraform-providers/terraform-provider-azurerm/blob/v1.44.0/CHANGELOG.md).
